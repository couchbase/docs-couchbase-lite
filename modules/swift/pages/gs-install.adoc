:docname: gs-install
:page-module: swift
:page-relative-src-path: gs-install.adoc
:page-origin-url: https://github.com/couchbase/docs-couchbase-lite.git
:page-origin-start-path:
:page-origin-refname: antora-assembler-simplification
:page-origin-reftype: branch
:page-origin-refhash: (worktree)
[#swift:gs-install:::]
=== Install
:page-aliases: start/swift-gs-install.adoc
:page-role:
:description: Installing Couchbase Lite on Swift




// BEGIN -- inclusion -- {module-partials}_define_module_attributes.adoc
//  Usage:  Here we define module specific attributes. It is invoked during the compilation of a page,
//          making all attributes available for use on the page.
//  UsedBy: ROOT:partial$_std_cbl_hdr.adoc

// BEGIN::module page attributes
//
// CBL-Swift Maintenance release number
//

// VECTOR SEARCH attributes
//




// BEGIN - Set attributes pointing to API references for this module

// API Reference Links
//
//




// Supporting Data Type Classes


// DATABASE CLASSES






// Begin -- DatabaseConfiguration
// End -- DatabaseConfiguration




// deprecated 2.8
//
// :url-api-method-database-compact: https://docs.couchbase.com/mobile/{major}.{minor}.{maintenance-ios}{empty}/couchbase-lite-swift/Classes/Database.html#/s:18CouchbaseLiteSwift8DatabaseC7compactyyKF[Database.compact()]








// links for documents pages






// QUERY RELATED CLASSES and METHODS

// Query class and methods

// Expression class and methods
// :url-api-references-query-classes: https://docs.couchbase.com/mobile/{major}.{minor}.{maintenance-ios}{empty}/couchbase-lite-swift/Classes/[Query Class index]



// ArrayFunction class and methods


// API Results Class and methods


// Function class and methods
//

// Where class and methods
//

// orderby class and methods
//

// GroupBy class and methods
//

// URLEndpointConfiguration




















// diag: Env+Module swift




// Replicator API




[Replicator.pendingDocumentIds()]



// Replicator Status



// :url-api-enum-replicator-status: https://docs.couchbase.com/mobile/{major}.{minor}.{maintenance-ios}{empty}/couchbase-lite-swift/Classes/Replicator/Status.html[Status struct]
// :url-api-enum-replicator-activity: https://docs.couchbase.com/mobile/{major}.{minor}.{maintenance-ios}{empty}/couchbase-lite-swift/Classes/Replicator/ActivityLevel.html[ActivityLevel enum]
// :url-api-enum-replicator-progress: https://docs.couchbase.com/mobile/{major}.{minor}.{maintenance-ios}{empty}/couchbase-lite-swift/Classes/Replicator/Progress.html[Progress struct]


// ReplicatorConfiguration API









// Begin Replicator Retry Config



// :url-api-prop-replicator-config-ServerCertificateVerificationMode: https://docs.couchbase.com/mobile/{major}.{minor}.{maintenance-ios}{empty}/couchbase-lite-swift/Structs/ReplicatorConfiguration.html#/s:18CouchbaseLiteSwift23ReplicatorConfigurationC33serverCertificateVerificationModeAA06ServerghI0Ovp[serverCertificateVerificationMode]

// :url-api-enum-replicator-config-ServerCertificateVerificationMode: https://docs.couchbase.com/mobile/{major}.{minor}.{maintenance-ios}{empty}/couchbase-lite-swift/Structs/ReplicatorConfiguration.html{Enums/ServerCertificateVerificationMode.html[serverCertificateVerificationMode enum]













// Metadata API



// BEGIN Logs and logging references







// END  Logs and logging references



// End define module specific attributes

// BEGIN::module page attributes
// :snippet-p2psync-ws: {snippets-p2psync-ws--swift}

// END::Local page attributes
[abstract]
--
Description -- _{description}_ +
--


[discrete#swift:gs-install:::get-started]
==== Get Started


To get started coding Couchbase Lite for Swift apps, just create or open an existing _XCode_ project and install the required _Couchbase Lite_ version, for example {major}.{minor}.{maintenance-ios}{empty}, using one of the <<swift:gs-install:::lbl-install-tabs>> methods shown.

Enterprise users can also download the Couchbase Lite Vector Search extension library.

[NOTE]
--
Couchbase Lite is distributed as an XCFramework, to support this:

* The minimum required CocoaPods version is *1.15*
* The minimum required Carthage version is *0.38*
--


[discrete#swift:gs-install:::lbl-install-tabs]
===== Install Couchbase Lite
.
[{tabs}]
=====
[#swift:gs-install:::tabs-1-direct-download]
Direct Download::
+
--

// Frameworks tab for inclusion in swift-gs-install
// . https://www.couchbase.com/downloads[Download] Couchbase Lite.

. Download the binaries from here -- https://www.couchbase.com/downloads#extend-with-mobile[Extend with Mobile].

. Unpack the download zip file into your XCode project location.

. Select your target settings in XCode and drag *CouchbaseLiteSwift.xcframework* from your Finder to the *Frameworks, Libraries, and Embedded Content* section.

. Start using Couchbase Lite on Swift in your project.

--
[#swift:gs-install:::tabs-1-carthage]
Carthage::
+
--
// Carthage tab for inclusion in swift-gs-install
NOTE: The minimum required Carthage version is *0.38+*

. Install Carthage using the instructions here: +
https://github.com/Carthage/Carthage#installing-carthage

. In your *Cartfile*, add the appropriate 'binary' URL:
+

.Couchbase Lite Community Edition
[source,ruby,subs="attributes+"]
----
binary "https://packages.couchbase.com/releases/couchbase-lite-ios/carthage/CouchbaseLite-Community.json" ~> {major}.{minor}.{maintenance-ios}{empty}
----
+
<.> Specify the required version number, here we use the latest version

+

.Couchbase Lite Enterprise Edition
[source,ruby,subs="attributes+"]
----
binary "https://packages.couchbase.com/releases/couchbase-lite-ios/carthage/CouchbaseLite-Enterprise.json" ~> {major}.{minor}.{maintenance-ios}{empty} // <.>
----
+
<.> Specify the required version number, here we use the latest version

. Run `carthage update --platform ios`.

. Drag *CouchbaseLiteSwift.xcframework* from *Carthage/Build/* to the Xcode navigator.

. Select menu:Project[General > Embedded Binary], add *CouchbaseLiteSwift.xcframework* to this section.
--
[#swift:gs-install:::tabs-1-cocoapods]
CocoaPods::
+
--
// CocoaPods tab for inclusion in swift-gs-install
NOTE: The minimum required Cocoapods  version is *1.15*

. Install CocoaPods using the instructions here: +
 https://guides.cocoapods.org/using/getting-started.html
. Add one of these targets to your *Podfile*:
+
.Couchbase Lite Community Edition
[source,ruby,subs=attributes+]
----
target 'Example' do
  use_frameworks!
  pod 'CouchbaseLite-Swift', '{major}.{minor}.{maintenance-ios}{empty}' // <.>
end
----
+
<.> Specify the required version number, here we use the latest version

+
.Couchbase Lite Enterprise Edition
[source,ruby,subs=attributes+]
----
target 'Example' do
  use_frameworks!
  pod 'CouchbaseLite-Swift-Enterprise', '{major}.{minor}.{maintenance-ios}{empty}' // <.>
end
----

+
<.> Specify the required version number, here we use the latest version

. Install the pods and open the `.xcworkspace` file generated by CocoaPods, using:
+
[source,bash]
----
pod install
----
--
[#swift:gs-install:::tabs-1-swift-package-manager]
Swift Package Manager::
+
--
NOTE: Using Swift Package Manager to install CouchbaseLiteSwift requires XCode 12+

// CouchbaseLiteSwift-EE
// Repository for hosting Swift package for Couchbase Lite Swift Enterprise Edition
// :this-release: {major}.{minor}.{maintenance-ios}{empty}
This tab explains how to include the CouchbaseLiteSwift package within your app +
See: <<swift:gs-install:::case-1>> | <<swift:gs-install:::case-2>>

[#swift:gs-install:::case-1]
.Use Case 1. Include in Existing Swift Package
======
Here we will add the `CouchbaseLiteSwift` dependency to your Parent Swift package -- see: <<swift:gs-install:::sample>> for the sample manifest.

. Add the CouchbaseLiteSwift package as dependency by including the following in the parent package manifest:

+
[source, swift, subs="attributes+"]
----
dependencies: [
  .package(name: "CouchbaseLiteSwift",
    url: "insert Couchbase Lite URL", // <.>
    from: "{major}.{minor}.{maintenance-ios}{empty}"), // <.>
  ],
----

+
[#couchbaselite-url]
<.> Insert appropriate Couchbase Lite URL: +
For Community Edition use: https://github.com/couchbase/couchbase-lite-ios.git +
For Enterprise Edition use: https://github.com/couchbase/couchbase-lite-swift-ee.git

+
[#swift:gs-install:::couchbaselite-url]
<.> Include the required version number here, for example the latest version is {major}.{minor}.{maintenance-ios}{empty}

. Add the dependent package product name, to the target:
+
[source, swift]
----
targets: [
  .target(name: "ParentPackage",
    dependencies: ["CouchbaseLiteSwift"]),
  ]
----

. Import CouchbaseLiteSwift, and use it:
+
[source, swift]
----
import CouchbaseLiteSwift

class ParentPackageSomeClass {
  func someFunction() {
    let db = try! Database(name: "testdb")
    print(">> opening the db: \(db.name)")
  }
}
----

[#sample]
.Simple Manifest
[sourc#swift:gs-install:::samplee, swift,subs="attributes+"]
----
// swift-tools-version:5.3
import PackageDescription
let package = Package(
name: "ParentPackage",
products: [
  .library(
    name: "ParentPackage",
    targets: ["ParentPackage"]),
  ],
dependencies: [
  .package(name: "CouchbaseLiteSwift",
    url: "https://github.com/couchbase/couchbase-lite-swift-ee.git", from: "{major}.{minor}.{maintenance-ios}{empty}"),
  ],
targets: [
  .target(
    name: "ParentPackage",
    dependencies: ["CouchbaseLiteSwift"]),
  .testTarget(
    name: "ParentPackageTests",
    dependencies: ["ParentPackage"]),
  ]
)
----

======


[#swift:gs-install:::case-2]
.Use Case 2. Include in Your App Project
======
Here we will add `CouchbaseLiteSwift` directly into your app

. Open the project to which you are going to add CouchbaseLiteSwift
+
image::couchbase-lite/current/swift/_images/spm-1.png[]
. Open the Project Editor to add a dependency
.. In _Project Navigator_: +
*Select* your Xcode project file (for example, `HostApp` in the example) +
Xcode opens the _Project Editor_ pane

.. In the _Project Editor_ pane: +
*Select* menu:Project[Swift Packages] and btn:[+] to add the dependency +
Xcode opens the _Choose Package Repository_ dialog
+
image::couchbase-lite/current/swift/_images/spm-2.png[]

. In the _Choose Package Repository_ dialog: +
*Enter* the appropriate Couchbase Lite URL, btn:[Next] to continue +
For example: https://github.com/couchbase/couchbase-lite-swift-ee.git
+
image::couchbase-lite/current/swift/_images/spm-3.png[]

. *Enter* the required *_Version_* (the latest is {major}.{minor}.{maintenance-ios}{empty}) and btn:[Next] to continue
+
image::couchbase-lite/current/swift/_images/spm-4.png[]

. btn:[Finish] to close the _Choose Package Repository_ dialog
+
image::couchbase-lite/current/swift/_images/spm-5.png[]
+
Xcode displays the name, version and URL of the added CouchbaseLiteSwift Package
+
image::couchbase-lite/current/swift/_images/spm-6.png[]

. You can now import CouchbaseLiteSwift, and use it in your app
+
image::couchbase-lite/current/swift/_images/spm-7.png[]

======


--
=====

[discrete#swift:gs-install:::install-vector-search-extension]
==== Install Vector Search Extension

NOTE: The Vector Search extension is an *Enterprise-only* feature.

You can get set up with the Vector Search Extension for iOS (Swift) by following these instructions.

[IMPORTANT]
--
To use Vector Search, you must have Couchbase Lite installed and add the Vector Search extension to your Couchbase Lite application.
There is no Carthage support for the beta release of Vector Search.
Vector Search is available only for 64-bit architectures and
Intel processors that support the Advanced Vector Extensions 2 (AVX2) instruction set.
To verify whether your device supports the AVX2 instructions set, https://www.intel.com/content/www/us/en/support/articles/000090473/processors/intel-core-processors.html[follow these instructions.]
--

[{tabs}]
=====
[#swift:gs-install:::tabs-2-direct-download]
Direct Download::
+
--

. Download the binaries from here -- https://packages.couchbase.com/releases/couchbase-lite-vector-search/{vs-major}.{vs-minor}.{vs-maintenance-ios}{empty}/couchbase-lite-vector-search_xcframework_{vs-major}.{vs-minor}.{vs-maintenance-ios}{empty}.zip[binary download link.]

. Unpack the download zip file into your XCode project location.

. Select your target settings in XCode and drag *CouchbaseLiteVectorSearch.xcframework* from your Finder to the *Frameworks, Libraries, and Embedded Content* section.

. Start using Couchbase Lite Vector Search on Swift in your project.

--
[#swift:gs-install:::tabs-2-carthage]
Carthage::
+
--
NOTE: The minimum required Carthage version is *0.38+*

. Install Carthage using the instructions here: +
https://github.com/Carthage/Carthage#installing-carthage

. In your *Cartfile*, add the appropriate 'binary' URL:
+
[source,ruby,subs="attributes+"]
----
binary "http://packages.couchbase.com/releases/couchbase-lite-vector-search/carthage/CouchbaseLiteVectorSearch.json" ~> {vs-major}.{vs-minor}.{vs-maintenance-ios}{empty} // <.>
----
+
<.> Specify the required version number, here we use the latest version

. Run `carthage update --platform ios`.

. Drag *CouchbaseLiteSwift.xcframework* from *Carthage/Build/* to the Xcode navigator.

. Select menu:Project[General > Embedded Binary], add *CouchbaseLiteSwift.xcframework* to this section.

--

[#swift:gs-install:::tabs-2-cocoapods]
CocoaPods::
+
--
NOTE: The minimum required Cocoapods  version is *1.15*

. Install CocoaPods using the instructions here: +
 https://guides.cocoapods.org/using/getting-started.html

. Add one of these targets to your *Podfile*:
+

.Couchbase Lite Enterprise Edition
[source,ruby,subs=attributes+]
----
target 'Example' do
  use_frameworks!
  pod 'CouchbaseLiteVectorSearch', '{vs-major}.{vs-minor}.{vs-maintenance-ios}{empty}' // <.>
end
----

+
<.> Specify the required version number, here we use the latest version of the beta

. Install the pods and open the `.xcworkspace` file generated by CocoaPods, using:
+
[source,bash]
----
pod install
----
--
[#swift:gs-install:::tabs-2-swift-package-manager]
Swift Package Manager::
+
--
NOTE: Using Swift Package Manager to install CouchbaseLiteVectorSearch requires XCode 12+

// :this-release: {major}.{minor}.{maintenance-ios}{empty}
This tab explains how to include the CouchbaseLiteVectorSearch package within your app +
See: <<swift:gs-install:::case-1>> | <<swift:gs-install:::case-2>>

[#swift:gs-install:::case-1]
.Use Case 1. Include in Existing Swift Package
======
Here we will add the `CouchbaseLiteVectorSearch` package as a dependency to your Parent Swift package.

. Add the CouchbaseLiteVectorSearch package as a dependency by including the following in the parent package manifest:

+
[source, swift, subs="attributes+"]
----
dependencies: [
  .package(name: "CouchbaseLiteVectorSearch",
    url: "https://github.com/couchbase/couchbase-lite-vector-search-spm.git",
    from: "{vs-major}.{vs-minor}.{vs-maintenance-ios}{empty}"),
  ],
----

. Add the dependent package product name to the target:
+
[source, swift]
----
targets: [
  .target(name: "ParentPackage",
     dependencies: ["CouchbaseLiteVectorSearch"]),
]
----

. CouchbaseliteVectorSearch will be automatically detected and loaded in when creating a CouchbaseLite database object.

======


[#swift:gs-install:::case-2]
.Use Case 2. Include in Your App Project
======
Here we will add `CouchbaseLiteVectorSearch` directly into your app.

. Open the project to which you are going to add CouchbaseLiteVectorSearch
. Open the Project Editor to add a dependency
.. In _Project Navigator_: +
*Select* your XCode project file (for example, `HostApp` in the example) +
XCode opens the _Project Editor_ pane

.. In the _Project Editor_ pane: +
*Select* menu:Project[Swift Packages] and btn:[+] to add the dependency +
XCode opens the _Choose Package Repository_ dialog

. In the _Choose Package Repository_ dialog: +
*Enter* the appropriate Couchbase Lite URL, btn:[Next] to continue +
For Vector Search: https://github.com/couchbase/couchbase-lite-vector-search-spm.git

. *Enter* the required *_Version_* ({vs-major}.{vs-minor}.{vs-maintenance-ios}{empty}) and btn:[Next] to continue

. btn:[Finish] to close the _Choose Package Repository_ dialog

XCode displays the name, version and URL of the added CouchbaseLiteVectorSearch Package

. Finally, you can enable the vector search extension using the following snippet:

[source, swift]
----

        try Extension.enableVectorSearch()

----

IMPORTANT: You must enable the extension before you open your database.

======



--
=====


// :param-add3-title: {empty}
// :param-reference: reference-p2psync



[discrete#swift:gs-install:::related-content]
==== Related Content
++++
<div class="card-row three-column-row">
++++

[.column]
===== {empty}
.How to . . .
* xref:swift:gs-prereqs.adoc[Prerequisites]
* xref:swift:gs-install.adoc[Install]
* xref:swift:gs-build.adoc[Build and Run]


.

[discrete.colum#swift:gs-install:::-2n]
===== {empty}
.Learn more . . .
* xref:swift:database.adoc[Databases]
* xref:swift:document.adoc[Documents]
* xref:swift:blob.adoc[Blobs]
* xref:swift:replication.adoc[Remote Sync Gateway]
* xref:swift:conflict.adoc[Handling Data Conflicts]

.


[.column]
// [.content]
[discrete#swift:gs-install:::-3]
===== {empty}
.Dive Deeper . . .
//* Community
https://forums.couchbase.com/c/mobile/14[Mobile Forum] |
https://blog.couchbase.com/[Blog] |
https://docs.couchbase.com/tutorials/[Tutorials]


.



++++
</div>
++++


