= Install Couchbase Lite on Swift
:page-aliases: start/swift-gs-install.adoc
ifdef::show_edition[:page-edition: {release}]
ifdef::prerelease[:page-status: {prerelease}]
:page-role:
:description: Installing Couchbase Lite on Swift
:tabs:


include::partial$_set_page_context_for_swift.adoc[]
include::{root-partials}_show_page_header_block.adoc[]


== Get Started


To get started coding Couchbase Lite for Swift apps, just create or open an existing _Xcode_ project and install the required _Couchbase Lite_ version, for example {version-maintenance}, using one of the <<lbl-install-tabs>> methods shown.

[NOTE]
--
Couchbase Lite is distributed as an XCFramework, to support this:

* The minimum required CocoaPods version is *1.9*
* The minimum required Carthage version is *38.0*
--


[#lbl-install-tabs]
=== Install Methods
[{tabs}]
=====
Direct Download::
+
--

include::partial$gs-install-tab-frameworks.adoc[]

--
Carthage::
+
--
include::partial$gs-install-tab-carthage.adoc[]
--
CocoaPods::
+
--
include::partial$gs-install-tab-cocoapods.adoc[]
--
Swift Package Manager::
+
--
NOTE: Using Swift Package Manager to install CouchbaseLiteSwift requires Xcode 12+

include::partial$gs-install-tab-spm.adoc[]

--
=====

IMPORTANT: Carthage is not supported for the beta release version of the Vector Search Extension Library.


== Install Vector Search Extension

NOTE: Vector Search is an Enterprise only feature.

[{tabs}]
=====
Direct Download::
+
--

. Download the binaries from here -- {downloads-mobile--xref}.

. Unpack the download

. Drag *CouchbaseLiteSwift.xcframework* from your Finder to the Xcode navigator.

. Click on menu:Project[General>Embedded Binary] and add *CouchbaseLiteSwift.xcframework* to this section.

. Import the XCFramework
+
[source]
----
import CouchbaseLiteSwift
...
----

. Start using Couchbase Lite on Swift in your project.

--

CocoaPods::
+
--
NOTE: The minimum required Cocoapods  version is *1.15*

. Install CocoaPods using the instructions here: +
 https://guides.cocoapods.org/using/getting-started.html
. Add one of these targets to your *Podfile*:
+

.Couchbase Lite Enterprise Edition
[source,ruby,subs=attributes+]
----
target 'Example' do
  use_frameworks!
  pod 'CouchbaseLite-Swift-Enterprise', '{version-maintenance}' // <.>
end
----

+
<.> Specify the required version number, here we use the latest version

. Install the pods and open the `.xcworkspace` file generated by CocoaPods, using:
+
[source,bash]
----
pod install
----
--
Swift Package Manager::
+
--
NOTE: Using Swift Package Manager to install CouchbaseLiteSwift requires Xcode 12+

:url-ee: https://github.com/couchbase/couchbase-lite-vector-search-spm.git
:saved-caption: {example-caption}
:example-caption!:
// :this-release: {version-maintenance}
This tab explains how to include the CouchbaseLiteSwift package within your app +
See: <<case-1>> | <<case-2>>

[#case-1]
.Use Case 1. Include in Existing Swift Package
======
Here we will add the `CouchbaseLiteSwift` dependency to your Parent Swift package -- see: <<sample>> for the sample manifest.

. Add the CouchbaseLiteSwift package as dependency by including the following in the parent package manifest:

+
[source, {source-language}, subs="attributes+"]
----
dependencies: [
  .package(name: "CouchbaseLiteSwift",
    url: "insert Couchbase Lite URL", // <.>
    from: "{version-maintenance}"), // <.>
  ],
----

+
[#couchbaselite-url]
<.> Insert appropriate Couchbase Lite URL: +
For Enterprise Edition use: {url-ee}

+
<.> Include the required version number here, for example the latest version is {version-maintenance}

. Add the dependent package product name, to the target:
+
[source, {source-language}]
----
targets: [
  .target(name: "ParentPackage",
    dependencies: ["CouchbaseLiteSwift"]),
  ]
----

. Import CouchbaseLiteSwift, and use it:
+
[source, {source-language}]
----
import CouchbaseLiteSwift

class ParentPackageSomeClass {
  func someFunction() {
    let db = try! Database(name: "testdb")
    print(">> opening the db: \(db.name)")
  }
}
----

[#sample]
:listing-caption: Example
.Simple Manifest
[source, {source-language},subs="attributes+"]
----
// swift-tools-version:5.3
import PackageDescription
let package = Package(
name: "ParentPackage",
products: [
  .library(
    name: "ParentPackage",
    targets: ["ParentPackage"]),
  ],
dependencies: [
  .package(name: "CouchbaseLiteSwift",
    url: "https://github.com/couchbase/couchbase-lite-swift-ee.git", from: "{version-maintenance}"),
  ],
targets: [
  .target(
    name: "ParentPackage",
    dependencies: ["CouchbaseLiteSwift"]),
  .testTarget(
    name: "ParentPackageTests",
    dependencies: ["ParentPackage"]),
  ]
)
----

======


[#case-2]
.Use Case 2. Include in Your App Project
======
Here we will add `CouchbaseLiteSwift` directly into your app

. Open the project to which you are going to add CouchbaseLiteSwift
+
image::spm-1.png[]
. Open the Project Editor to add a dependency
.. In _Project Navigator_: +
*Select* your Xcode project file (for example, `HostApp` in the example) +
Xcode opens the _Project Editor_ pane

.. In the _Project Editor_ pane: +
*Select* menu:Project[Swift Packages] and btn:[+] to add the dependency +
Xcode opens the _Choose Package Repository_ dialog
+
image::spm-2.png[]

. In the _Choose Package Repository_ dialog: +
*Enter* the appropriate Couchbase Lite URL, btn:[Next] to continue +
For example: {url-ee}
+
image::spm-3.png[]

. *Enter* the required *_Version_* (the latest is {version-maintenance}) and btn:[Next] to continue
+
image::spm-4.png[]

. btn:[Finish] to close the _Choose Package Repository_ dialog
+
image::spm-5.png[]
+
Xcode displays the name, version and URL of the added CouchbaseLiteSwift Package
+
image::spm-6.png[]

. You can now import CouchbaseLiteSwift, and use it in your app
+
image::spm-7.png[]

======

:example-caption: {saved-caption}
:list-caption!:
:saved-caption!:


--
=====

include::{root-partials}block-related-content-start.adoc[]
