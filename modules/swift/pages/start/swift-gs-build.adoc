= Swift
:page-status: {release-status-cbl}
:page-edition: w-i-p
:page-layout: article
:page-content-type: procedural
:page-roles:
:page-aliases:
:description: Couchbase Lite Swift API Reference Document
:keywords: edge nosql api
// End of Page Definition Statements

include::shared-mobile::partial$_attributes-shared.adoc[]
include::ROOT:partial$_attributes-local.adoc[]

// BEGIN:: SET LOCAL ENVIRONMENT ATTRIBUTES
:snippets: {snippets-content--swift}
:source-language: {lang-name-swift}
:packageNm: couchbase-lite-swift
:url-issues: {url-issues-swift}
:url-api-references: {url-apr-references-swift}
// END:: SET LOCAL ENVIRONMENT ATTRIBUTES

== Getting Started


=== Xcode project

Create or open an existing Xcode project and install Couchbase Lite using one of the following methods.

[{tabs}]
====
Frameworks::
+
--
* {url-cb-downloads}[Download] Couchbase Lite.
* Unzip the file and drag *CouchbaseLiteSwift.framework* from your Finder to the Xcode navigator.
* Click on *Project > General > Embedded Binary* and add *CouchbaseLiteSwift.framework* to this section.
* Import the framework and start using it in your project.
+
[source]
----
import CouchbaseLiteSwift
...
----
--

Carthage::
+
--
. https://github.com/Carthage/Carthage#installing-carthage[Install Carthage]
. In your *Cartfile*, add the following.
+
.Couchbase Lite Community Edition
[source,ruby,subs=attributes+]
----
binary "https://packages.couchbase.com/releases/couchbase-lite-ios/carthage/CouchbaseLite-Community.json" ~> {version}
----
+
.Couchbase Lite Enterprise Edition
[source,ruby,subs=attributes+]
----
binary "https://packages.couchbase.com/releases/couchbase-lite-ios/carthage/CouchbaseLite-Enterprise.json" ~> {version}
----

. Run `carthage update --platform ios`.
. Drag *CouchbaseLiteSwift.framework* from *Carthage/Build/* to the Xcode navigator.
. Click on Project > General > Embedded Binary and add *CouchbaseLiteSwift.framework* to this section.
--

CocoaPods::
+
--
. https://guides.cocoapods.org/using/getting-started.html[Install Cocoapods]
. In your *Podfile*, add the following.
+
.Couchbase Lite Community Edition
[source,ruby,subs=attributes+]
----
target 'Example' do
  use_frameworks!
  pod 'CouchbaseLite-Swift', '~> {version}'
end
----
+
.Couchbase Lite Enterprise Edition
[source,ruby,subs=attributes+]
----
target 'Example' do
  use_frameworks!
  pod 'CouchbaseLite-Swift-Enterprise', '~> {version}'
end
----

. Install the pods and open the .xcworkspace file generated by Cocoapods.
+
[source,bash]
----
pod install
----
--
====

=== Starter code

Open *ViewController.swift* in Xcode and copy the following code in the `viewDidLoad` method.
This snippet demonstrates how to run basic CRUD operations, a simple Query and running bi-directional replications with Sync Gateway.

[source]
----
include::{snippet}[tag=getting-started,indent=0]
----

Build and run.
You should see the document ID and property printed to the console.
The document was successfully persisted to the database.

image::getting-started-ios.png[]

In the next step, you will setup Sync Gateway.
Before synchronizing documents to Sync Gateway you will need to disable App Transport Security (ATS) on iOS.
App Transport Security is enabled by default since iOS 9 and enforces applications to use HTTPS exclusively.
For this getting started guide, you will disable it but we recommend to enable it in production (and xref:sync-gateway::security.adoc#connection-to-sync-gateway[enable HTTPS on Sync Gateway]).
In the Xcode navigator, right-click on *Info.plist* and open it as a source file.

image::info-plist.png[]

Append the following inside of the `<dict>` XML tags to disable ATS.

[source,xml]
----
<key>NSAppTransportSecurity</key>
<dict>
<key>NSAllowsArbitraryLoads</key><true/>
</dict>
----

{xref-pg-sgw-gs-install}

== Couchbase Lite Framework Size

include::{root-partials}ios-framework-size.adoc[]


== Supported Versions

.Support Constraints - Apple Mac OS
CAUTION: Mac OS is supported ONLY for testing and development purposes.

=== Supported Operating System Versions
// [width="70%"]
[%autowidth.stretch]
|===
|Platform |Minimum OS version

|iOS
|*10.0* (9.0 -- <<support-notices, Deprecated>>)

|macOS
|*10.11* (10.9 and 10.10 -- <<support-notices, Deprecated>>)
|===

=== Compiler Support Matrix
The table below shows the compatibility of Xcode / Swift compiler versions with Couchbase Lite versions.
Build your Couchbase Lite apps using the Xcode version(s) corresponding to your Couchbase Lite version.

// Ports DOC-6777 from 2.7
[cols="7*^",options=noheader,autowidth]
|===
|
6+|*Xcode version(s)/Swift version*

|*CBL Version*
|*10.2.1-10.3/5.0.1*
|*11.0-11.1/5.1*
|*11.2/5.1.2*
|*11.3-11.3.1/5.1.3*
|*11.4/5.2*
|*11.4.1/5.2.2*

|2.6.0
| x
|
|
|
|
|

|2.6.1
|
| x
|
|
|
|

|2.6.3
|
| x
| x
| x
| x
| x

|2.6.4
|
|
|
| x
| x
| x

|2.7.0
|
|
|
| x
| x
| x

|2.7.1
|
|
|
|
|
| x

|2.8.0
|
|
|
|
|
| x
|===
